pico-8 cartridge // http://www.pico-8.com
version 39
__lua__
-- 16-COLOR LIFE PLAYGROUND
-- github.com/mpclemens/pico-8

#include life.lua

function _init()
  -- boundaries for resizing controls
  min_w = 16
  min_h = 16
  max_w = 128
  max_h = 128
  resize_amt = 16

  -- set up a new colony
  colony = new_colony(flr(max_w/2), flr(max_h/2))
  randomize(colony)
  paused = false

end

function _draw()
  if not paused then
    render(colony)
    step(colony)
  end
end

function after_resize(colony)
  --[[ Common steps after handling a resize key command ]]
  randomize(colony)
  render(colony)
  paused = true
end

function _update()
  if btnp(4) then -- "X" button toggle pause
    if paused then
      sfx(5)
    else
      sfx(1)
    end
    paused = not paused
  else
    if btnp(5) then -- "O" button reset
      sfx(0)
      randomize(colony)
      paused = false
    elseif btnp(1) then -- right, make wider
      if colony.w + resize_amt < max_w then
        colony.w = min(colony.w + resize_amt, max_w)
        after_resize(colony)
        sfx(3)
      else
        sfx(4)
      end
    elseif btnp(0) then -- left, make narrower
      if colony.w - resize_amt > min_w then
        colony.w = max(colony.w - resize_amt, min_w)
        after_resize(colony)
        sfx(2)
      else
        sfx(4)
      end
    elseif btnp(2) then -- up, make taller
      if colony.h + resize_amt < max_h then
        colony.h = min(colony.h + resize_amt, max_h)
        after_resize(colony)
        sfx(3)
      else
        sfx(4)
      end
    elseif btnp(3)  then -- down, make shorter
      if colony.h - resize_amt > min_h then
        colony.h = max(colony.h - resize_amt, min_h)
        after_resize(colony)
        sfx(2)
      else
        sfx(4)
      end
    end
  end
end
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000010100000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000010100000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000ac00000000110000000001100000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000700c0000000101000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000c0a0000000010000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000700000000000000000000000000000000000007ca7000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000c0087000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000007c0ca097000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000007a090000000000000000000000000000000000000000
00000000000000000000000000000000000000000001000000000000000000000000009e00000000000000800000000000000000000000000000000000000000
00000000000000000000000000000000000000000010100000000000000000000000002800000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000c907070000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000070c9000000000007a007870000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000aa7700000000000c007070000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000077707a70000000000ca000c900000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000070007c0000000000007c80a700000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000007000c000000000000007a00000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000c077c0000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000cac00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000001100000000000011000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000001100000000000011000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000210000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000200e000000000000800000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000010200000000000010e0000000000000001100000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000e0000000000000e020000000000000010010000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000800000000000000001100000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000e007000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000700c000000000000110000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000c07000000000000110000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__sfx__
01050000209502595020950269501c950219500090000900009000090000900009000090000900009000090000900009000090000900009000090000900009000090000900009000090000900009000090000900
00060000290502505001000010002200010000000002020017200202001620020200162002020020200172001f20017200172001b20009200022001e200182001820000200022000020000200002000020000200
000800001d25011250072500025005200002000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000800000025008250122501e25000200002000020000200002000020000200002000020000200002000020000200002000020000200002000020000200002000020000200002000020000200002000020000200
000800000044000400004400000028400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00060000290502d050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
